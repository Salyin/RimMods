<?xml version="1.0" encoding="utf-8" ?>
<Defs>

    <ThingDef ParentName="ApparelNoQualityBase">
        <defName>ATR_Apparel_ScorchPack</defName>
        <label>Scorch pack</label>
        <description>A reusable backpack containing a highly flammable chemical mixture with the mechanics necessary to trigger an explosive release of the otherwise inert mixture. When the wearer activates the pack, it will violently expel flame.\n\nOnce used, it must be reloaded with chemfuel before it can be used again.\n\nScorch packs are often used by android martyrs who despise organic life, or by squads of flameproof android troopers to clear insect hives.</description>
        <techLevel>Industrial</techLevel>
        <comps>
            <li Class="CompProperties_Reloadable">
                <maxCharges>1</maxCharges>
                <ammoDef>Chemfuel</ammoDef>
                <ammoCountToRefill>15</ammoCountToRefill>
                <baseReloadTicks>60</baseReloadTicks>
                <soundReload>Standard_Reload</soundReload>
                <hotKey>Misc4</hotKey>
                <chargeNoun>scorch pack</chargeNoun>
                <displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
            </li>
            <li Class="CompProperties_Explosive">
                <explosiveRadius>3.9</explosiveRadius>
                <explosiveDamageType>Flame</explosiveDamageType>
                <startWickHitPointsPercent>0</startWickHitPointsPercent>
                <chanceNeverExplodeFromDamage>1</chanceNeverExplodeFromDamage> <!-- Player or AI toggled. Otherwise it won't use a charge. -->
                <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                <preExplosionSpawnChance>0.25</preExplosionSpawnChance>
                <applyDamageToExplosionCellsNeighbors>true</applyDamageToExplosionCellsNeighbors>
                <explosionSound>MortarIncendiary_Explode</explosionSound>
                <wickTicks>0</wickTicks>
                <destroyThingOnExplosionSize>9999</destroyThingOnExplosionSize><!--hack to not destroy on explosion-->
            </li>
            <li Class="CompProperties_AIUSablePack">
                <compClass>ATReforged.CompScorchPack</compClass>
                <checkInterval>60</checkInterval>
            </li>
        </comps>
        <verbs>
            <li>
                <verbClass>Verb_FirefoamPop</verbClass>
                <label>deploy scorchpack</label>
                <violent>false</violent>
                <hasStandardCommand>true</hasStandardCommand>
                <targetable>false</targetable>
                <nonInterruptingSelfCast>true</nonInterruptingSelfCast>
                <onlyManualCast>True</onlyManualCast>
            </li>
        </verbs>
        <recipeMaker>
            <unfinishedThingDef>UnfinishedPack</unfinishedThingDef>
            <researchPrerequisite>Machining</researchPrerequisite>
            <recipeUsers>
                <li>TableMachining</li>
            </recipeUsers>
            <useIngredientsForColor>false</useIngredientsForColor>
            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
            <workSkill>Crafting</workSkill>
            <effectWorking>Smith</effectWorking>
            <soundWorking>Recipe_Smith</soundWorking>
            <skillRequirements>
                <Crafting>3</Crafting>
            </skillRequirements>
            <displayPriority>320</displayPriority>
        </recipeMaker>
        <costList>
            <Steel>10</Steel>
            <ComponentIndustrial>1</ComponentIndustrial>
            <Chemfuel>15</Chemfuel>
            <Neutroamine>2</Neutroamine>
        </costList>
        <graphicData>
            <texPath>Things/Pawn/Humanlike/Apparel/FirefoamPack/FirefoamPack</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <tickerType>Normal</tickerType>
        <statBases>
            <WorkToMake>1200</WorkToMake>
            <Mass>3</Mass>
            <Flammability>0.0</Flammability>
            <SmokepopBeltRadius>3.9</SmokepopBeltRadius>
            <EquipDelay>2</EquipDelay>
        </statBases>
        <thingCategories>
            <li>ApparelUtility</li>
        </thingCategories>
        <generateAllowChance>0.15</generateAllowChance>
        <apparel>
            <wornGraphicPath>Things/Pawn/Humanlike/Apparel/FirefoamPack/FirefoamPack</wornGraphicPath>
            <wornGraphicData>
                <renderUtilityAsPack>true</renderUtilityAsPack>
                <north>
                    <offset>(0,-0.15)</offset>
                </north>
                <south>
                    <offset>(0,0.1)</offset>
                    <scale>(1.3,1)</scale><!--frame covered by pawn body unless we stretch-->
                </south>
                <east>
                    <offset>(-0.35,-0.05)</offset>
                    <thin>
                        <offset>(0.05,0)</offset>
                    </thin>
                    <hulk>
                        <offset>(-0.1,0)</offset>
                    </hulk>
                    <fat>
                        <offset>(-0.15,0)</offset>
                    </fat>
                </east>
                <west>
                    <offset>(0.35,-0.05)</offset>
                    <thin>
                        <offset>(-0.05,0)</offset>
                    </thin>
                    <hulk>
                        <offset>(0.1,0)</offset>
                    </hulk>
                    <fat>
                        <offset>(0.15,0)</offset>
                    </fat>
                </west>
                <male>
                    <scale>(0.8,0.8)</scale>
                </male>
                <female>
                    <scale>(0.75,0.75)</scale>
                </female>
                <thin>
                    <scale>(0.7,0.7)</scale>
                </thin>
                <hulk>
                    <scale>(1.2,1.2)</scale>
                </hulk>
                <fat>
                    <scale>(1.1,1.1)</scale>
                </fat>
            </wornGraphicData>
            <countsAsClothingForNudity>false</countsAsClothingForNudity>
            <careIfWornByCorpse>false</careIfWornByCorpse>
            <careIfDamaged>false</careIfDamaged>
            <wearPerDay>0</wearPerDay>
            <bodyPartGroups>
                <li>Waist</li>
            </bodyPartGroups>
            <layers>
                <li>Belt</li>
            </layers>
            <tags>
                <li>BeltDefenseScorch</li>
            </tags>
        </apparel>
        <tradeTags>
            <li>Clothing</li>
        </tradeTags>
    </ThingDef>

</Defs>